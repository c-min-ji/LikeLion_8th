## API(ApplicationProgramming Interface)
> 요리사, 손님과 점원 중 점원이 api<br>예시로 카카오톡 알림톡이 있음 중간 매개 역할

## REST
> web의 장점을 최대한 활용한 분산 설계 시스템 설게를 위한 아키텍쳐(다시말해 제약 조건의 집합)

## REST'ful'?
>제약 조건 집합(아키텍처 스타일 + 아키텍처 원칙)<br>레스트 풀 에이피아이는 레스트 아키텍처 원칙을 모두 만족시키는 api

## REST 가 왜 필요해?
1. 거대한 애플리케이션을 모듈, 기능별로 분리하기 쉬워집니다.
2.  WEB브라우저 외의 클라이언트를 위해서(멀티 플랫폼)

## REST 구성
REST의 요소는 크게 리소스,메서드,메세지 3가지 요소로 구성됩니다.

자원(Resource) : `URI`<br>
행위(Verb) : `HTTP Method`
표현(Representations) : 데이터의 형태(`JSON, XML, text ...`)

### http Method
|Method| 역할 |
|---|:---:|
|POST|POST를 통해 해당 URI를 요청하면 리소스를 생성|
|GET|GET를 통해 해당 리소스를 조회, 해당 도큐먼트에 대한 자세한 정보를 가져옴|
|PUT|PUT를 통해 해당 리소스를 수정|
|DELETE|DELETE를 통해 리소스를 삭제|

<hr>

## REST API 디자인 가이드
1. URI는 정보의 자원을 표현
    - GERT/members/delete/1(이거 잘못된 거임)
2. 자원에 대한 행위는 HTTP Method(GET, POST, PUT, DELETE)로 표현
    - `delete/members/1`
    <hr>
    - 정보 가져오기 : GET/ members/1
    - 정보 추가 : POST/members/2

### URI 설계 시 주의점~!
1. `/`(슬래시)는 계층관계 표시
2. URI 마지막 문자에는 `/`표시 안하기
3. `-`(하이픈)은 가독성 UP!
4. `_`(언더바)는 사용하지 않아요~ㅜㅜ
5. URI 경로는 `소문자`가 적합!
6. jpg, png 등과 같은 파일 확장자는 포합하지 말기!
    - http://restapi.example.com/members/soccer/345/photo.jpg (X)
    - GET / members/soccer/345/photo HTTP/1.1 Host: restapi.example.com Accept: image/jpg (O)

### 리소스간의 관계 표현
> `/리소스명/ 리소스 아이디/ 관계있는 리소스명/`
- GET : /users/{userid}/likes/devices (관계명이 애매하거나 구체적 표현이 필요할 때/ 구체적아니면 라이크 빼도 오키)

### 자원을 표현하는 Colllection 과 Document
- Document: 문서, 객체
- Collection : 문서들의 집합, 객체들의 집합
- 두 개 모두 리소스, URI에 표현 됨
    - http:// restapi.example.com/sports/soccer
    - 스포츠가 컬렉션, 싸커가 도큐먼트
> hinweise~! <br> 좀 더 직관적인 REST API를 위해서는 컬렉션과 도큐먼트를 사용할 때 단수 복수도 지켜준다면 좀 더 이해하기 쉬운 URI를 설계할 수 있습니다.

### REST의 장단점
1. 장점
- HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구출할 필요가 없다.<br>
- HTTP 프로토콜의 표준을 최대한 활용하여 여러 추가적인 장점을 함께 가져갈 수 있게 해준다.<br>
- HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능하다.<br>
- Hypermedia API의 기본을 충실히 지키면서 범용성을 보장한다.<br>
- REST API 메시지가 의도하는 바를 명확하게 나타내므로 의도하는 바를 쉽게 파악할 수 있다.<br>
- 여러가지 서비스 디자인에서 생길 수 있는 문제를 최소화한다.<br>
- 서버와 클라이언트의 역할을 명확하게 분리한다.<br>
2. 단점
- 표준이 존재하지 않는다. 결국은 API 문서가 만들어지는 이유다.
- 사용할 수 있는 HTTP Method 형태가 제한적(4가지)이다.
- 브라우저를 통해 테스트할 일이 많은 서비스라면 쉽게 고칠 수 있는 URL보다 Header 값이 왠지 더 어렵게 느껴진다.
- 구형 브라우저가 아직 제대로 지원해주지 못하는 부분이 존재한다.
    - PUT, DELETE를 사용하지 못하는 점
    - pushState를 지원하지 않는 점

<hr>
<hr>

#### http 응답 상태 코드
> 1xx : 전송 프로토콜 수준의 정보 교환
<br>2xx : 클라어인트 요청이 성공적으로 수행됨<br>
3xx : 클라이언트는 요청을 완료하기 위해 추가적인 행동을 취해야 함<br>4xx : 클라이언트의 잘못된 요청<br>
5xx : 서버쪽 오류로 인한 상태코드

### 성공응답<br>

| 상태코드 | 성공 응답 |
|---|:---:|
|200|클라이언트의 요청을 정상적으로 수행|
|201|클라이언트가 어떠한 리소스 생성 요청, 해당 리소스가 정상적으로 생성됨(POST사용시)

### 리다이렉션 메세지

| 상태코드 | 리다이렉션 |
|---|:---:|
|301| 클라이언트가 요청한 리소스에 대한 URI가 변경되었을 때 사용 응답 코드(응답시 로케이션 헤더에 변경된 URI를 적어줘야함)|
|302| 요청한 리소스의 URI가 일시적으로 변경되었음을 의미. 새롭게 변경된 URI는 나중에 만들어질 수 있음. 향후 요청도 동일한 URI로...|

### 클라이언트 에러 응답

| 상태코드 | 클라이언트 에러 응답 |
|---|:---:|
|400|클라이언트의 요청이 부적절 할 경우 사용하는 응답 코드|
|401|클라이언트가 인증되지 않은 상태에서 보호된 리소스를 요청했을 때.사용하는 응답 코드(로그인 하지 않은 유저가 로그인 했을 때. 요청 가능한 리소스를 요청했을 때)|
|403|유저 인증상태와 관계 없이 응답하고 싶지 않은 리소스를 클라이언트가 요청했을 때 사용하는 응답 코드, (403 보다는 400이나 404를 사용할 것을 권고.403 자체가 리소스가 존재한다는 뜻)|
|405|클라이언트가 요청한 리소스에서는 사용 불가능한 Method를 이용했을 경우 사용하는 응답 코드|

### 서버응답에러

| 상태 코드 | 서버 에러 응답 |
|---|:---:|
|500|서버에 문제가 있을 경우 사용하는 응답 코드|
|503|서버가 요청을 처리할 준비가 되지 않았음|
|504|이 오류 응답은 서버가 게이트웨이 역할을 하고 있으며 적시에 응답을 받을 수 없음|

<br>

<hr>
<hr>

## Web용어 정리

| 용어 | 풀이 | 내용 |
|---|:---:|:---:|
|URI| Uniform Resource Identifier|통합 자원 식별자 : 정보 리소스를 고유하게 식별하고 위치 지정 가능|
|URL|Uniform Resource Locator|통합 자원 지시자(URI의 가장 흔한 형태) : 구체적인 위치 서술|
|URN| Uniform Resource Name | 해당 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할|
|DataBase Record| - | row, 관계형 데이터베이스에서 record or tuple로 불림|
|HATEOAS | Hypermedia As The Engine Of Application State |하이퍼미디어를 애플리케이션의 상태를 관리하기 위한 매커니즘으로 사용|
|HTTP 프로토콜| - | HTTP(Hypertext Transfer Protocol) : 인터넷 상에서 데이터를 주고 받기 위한 Server/Client 모델을 따르는 프로토콜, 애플리케이션 레벨의 프로토콜로 TCP/IP위에서 작동<br>Hypertext(단순한 1차원의 문장 구조에 머물지 않고 관련된 텍스트 정보를 짜맞추어 표시하도록 한 컴퓨터 텍스) 기반으로 데이터를 전송하겠다<br>Connectless 방식 : 서버에 연결하고 요청해서 응답을 받으면 열결을 끊음(기본적으로 자원 하나에 대해 하나의 연결을 만듬)<br>장점 : 불특정 다수를 대상으로 하는 서비스에 적합한 방식<br>단점 : 연결을 끊어버리기에 Client의 이전 상태를 알 수 없음(stateless)|
|PROXY(프록시)| - | Server와 Client 사이에 중계기로서 대리로 통신을 수행하는 것|
|PROXY Server| - | Client가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해 주는 컴퓨터 시스템이나 응용 프로그램을 가리킴 (중계 기능)|
|gateway | - |컴퓨터 네트워크에서 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 컴퓨터나 소프트웨어를 두루 일컫는 용어(다른 네트워크로 들어가는 입구 역할을 하는 네트워크 포인트|